# æ«é…±BOT
> # ä½ ä¸ç»™ğŸŒŸï¼Œæˆ‘ä¸ç»™ğŸŒŸï¼Œæ”¾åœ¨è°èº«ä¸Šè°éƒ½æ”¾å¼ƒ

![issues](https://img.shields.io/github/issues/liuqianpan2008/fjiangbot)![forks](https://img.shields.io/github/forks/liuqianpan2008/fjiangbot)![stars](https://img.shields.io/github/stars/liuqianpan2008/fjiangbot)![nodejs](https://img.shields.io/badge/nodejs-14%2B-brightgreen)

### å¯åŠ¨æ–¹å¼

* **è¯·äº‹å…ˆå®‰è£…ç¯å¢ƒ [nodejs](https://nodejs.org/zh-cn/download/)  [git](https://git-scm.com/download/win)**

    1. å…‹éš†è¿™ä¸ªé¡¹ç›®`git clone https://github.com/liuqianpan2008/fjiangbot.git`
    2. å®‰è£…ä¾èµ– `npm i`
    3. ä¿®æ”¹`src/config/`ç›®å½•ä¸‹çš„`.config.ts` ä¸º `config.ts`,å¹¶è®¾ç½®ç›¸å…³å†…å®¹
    4. è¿è¡Œ`npm run app`

### åŠŸèƒ½

<details>
<summary>å®µç¦</summary>
<img src="https://user-images.githubusercontent.com/80571808/186034689-db865452-27d9-4716-a4c6-0a735d148539.png">
</details>


<details>
<summary>å…¥ç¾¤éªŒè¯</summary>
<img src="https://user-images.githubusercontent.com/80571808/186034697-320eee2c-41d6-41b7-8866-b2932540f24d.png">
</details>

<details>
<summary>ç­¾åˆ°</summary>
<img src="https://user-images.githubusercontent.com/80571808/186034702-165b016d-248d-4dee-8e8b-9a074b5e38ad.jpg">
</details>

<details>
<summary>æ¦œå•</summary>
<img src="https://user-images.githubusercontent.com/80571808/186034649-8b807c2f-b4db-4d4c-9c8c-0bcfd6b1550c.jpg">
</details>

<details>
<summary>å®µç¦</summary>
<img src="https://user-images.githubusercontent.com/80571808/186034689-db865452-27d9-4716-a4c6-0a735d148539.png">
</details>

<details>
<summary>è¯æ¡</summary>
  <img src="https://user-images.githubusercontent.com/80571808/186034683-3f01efe8-4f78-4830-aa50-ca6f0ad90c71.png">
  <img src="https://user-images.githubusercontent.com/80571808/186034671-e78c9aae-5e2b-47e3-92bd-967bfa982f68.png">
</details>

<details>
<summary>èœå•</summary>
  <img src="https://user-images.githubusercontent.com/80571808/186034725-e4f10e77-2318-4d27-9f7c-6324eb5dccca.jpg">
</details>

<details>
<summary>Bç«™ç›¸å…³</summary>
  Bç«™ä¿¡æ¯
  <img src="https://user-images.githubusercontent.com/80571808/186034633-2461c481-da71-4466-8cca-9799d18e214b.jpg">
  Bç«™è§†é¢‘
  <img src="https://user-images.githubusercontent.com/80571808/186034694-5571d191-7b26-4713-97b3-1919615889f0.png">
  ç›´æ’­ç­¾åˆ°
    <img src="https://user-images.githubusercontent.com/80571808/186034626-32918045-25b4-4db5-936f-3c6c4bf00e26.png">
</details>

<details>
<summary>é“å…·ç³»ç»Ÿ</summary>
æ«é…±è¶…å¸‚
  <img src="https://user-images.githubusercontent.com/80571808/186034711-5dd5cf8c-947a-471e-8420-f63c161536c1.jpg">
  ä¸ªäººä»“åº“
  <img src="https://user-images.githubusercontent.com/80571808/186034723-94eacb7c-d769-4d72-a698-cfafad185aab.jpg">
</details>

<details>
<summary>ç¾¤ç®¡</summary>
  ç¾¤ä¿¡æ¯
  <img src="https://user-images.githubusercontent.com/80571808/186034664-c4c7796f-7128-4cca-8dc1-161d324c8e89.jpg">
  ç¾¤ç®¡ç†
  <img src="https://user-images.githubusercontent.com/80571808/184520315-912539ad-6378-48d2-869d-a0f7ca0e9af8.png">
</details>

<details>
<summary>å…¶ä»–å°åŠŸèƒ½ï¼ˆç›´æ¥è°ƒç”¨apiï¼‰</summary>
  ç–¯ç‹‚æ˜ŸæœŸå››ï¼ˆæ¯å‘¨å››ä¸­åˆ12ç‚¹å‘é€ï¼‰
  <img src="https://user-images.githubusercontent.com/80571808/186034609-e2b1c82c-0c72-4af2-b3dc-4a8ba47f0fcf.png">
  æ´¾è’™è¯´ï¼ˆAIè¯­éŸ³ï¼‰
  <img src="https://user-images.githubusercontent.com/80571808/186034616-0034503e-10c2-48c8-934f-87134e43c75f.png">
</details>

### ~~åŠŸèƒ½(æ—§ç‰ˆ)~~

<details>
<summary>#å®µç¦</summary>
<img width="362" alt="xj1" src="https://user-images.githubusercontent.com/80571808/184520289-8e1499fb-826b-480a-b469-c12f0c85c63b.PNG">
<img width="372" alt="xj2" src="https://user-images.githubusercontent.com/80571808/184520303-e982be55-c3cd-4e07-842b-8f216aeafe10.PNG">
</details>

<details>
<summary>#è¿›ç¾¤éªŒè¯</summary>
<img src="https://user-images.githubusercontent.com/80571808/184520311-22430cf1-7dd9-4f55-b8bd-bf237c891420.PNG" alt="#åˆ»æ™´">
</details>

<details>
<summary>#ç¾¤ç®¡</summary>
<img width="368" alt="qg" src="https://user-images.githubusercontent.com/80571808/184520315-912539ad-6378-48d2-869d-a0f7ca0e9af8.png">
</details>

<details>
<summary>#ç­¾åˆ°</summary>
<img width="368" alt="qg" src="https://user-images.githubusercontent.com/80571808/184520362-509ddd44-dca8-451a-9935-bf025e7994ca.PNG">
</details>

<details>
<summary>#é“å…·ç³»ç»Ÿ</summary>
<img width="368" alt="qg" src="https://user-images.githubusercontent.com/80571808/184520365-48f72f0b-6496-4ac6-8107-c8b6945f3e73.PNG">
<img width="368" alt="qg" src="https://user-images.githubusercontent.com/80571808/184520369-0eb273da-8e04-4bc6-8cee-1791e75b20b2.PNG">
</details>

## é“å…·ç³»ç»Ÿ

> ç‰¹è‰²åŠŸèƒ½

#### é‡‘å¸è·å–

é¦–å…ˆç©å®¶éœ€è¦é€šè¿‡`#ç­¾åˆ°`ç­‰åŠŸèƒ½è·å–é‡‘å¸

#### é“å…·è·å–

æ‹¥æœ‰å……è¶³çš„é‡‘å¸ä¾¿å¯åœ¨ï¼ˆ`#æ«é…±è¶…å¸‚`ï¼‰é“å…·å•†åŸè´­ä¹°ï¼Œæˆ–è€…ä½¿ç”¨æŠ½å¥–å¡è·å¾—

* è´­ä¹°æ—¶å€™éœ€è¦ä½¿ç”¨è¶…å¸‚åŠŸèƒ½æŸ¥çœ‹å•†åº—åç§°åé¢çš„é“å…·ç¼–å·
* ç›®å‰åªæ”¯æŒ
  * é“å…·ç¼–å·å–å†³äºâ€˜config.tsâ€™æ–‡ä»¶ä¸‹æœ‰å…³é“å…·é…ç½®çš„id

#### é“å…·ä½¿ç”¨

`#ä½¿ç”¨é“å…·+ç¼–å·`ä½¿ç”¨å¯¹åº”é“å…· egï¼š`#ä½¿ç”¨é“å…·1`å³ä½¿ç”¨ä¸€å·é“å…·

* ä½¿ç”¨é“å…·å‰è¯·ç¡®è®¤è‡ªå·±å·²ç»æ‹¥æœ‰è‡³å°‘ä¸€ä¸ªè¯¥é“å…·
* æ— æ”¹é“å…·ä¼šæ˜¾ç¤º`è´­ä¹°`

#### é“å…·é…ç½®
 ##### é€šç”¨é…ç½®
  * idé“å…·ç¼–å·,ç¦æ­¢é‡å
  * priceé“å…·å”®å–ä»·æ ¼åªæ¥å—æ•´æ•°

 ##### ç¦è¨€å¡

> ç¦è¨€ç¾¤é‡Œçš„äºº

*  typeå¿…é¡»è¾“å…¥ `"jy"`
* effectä¸ºç¦è¨€æ—¶é•¿å¿…é¡»æ˜¯`æ•´æ•°`å•ä½`ç§’`

##### cdkå¡

> ä½¿ç”¨ä¸€å®šé‡‘å¸å…‘æ¢å¯†é’¥

* effect éœ€è¦å’Œ`cdk.json`ç›¸å¯¹åº”

##### æŠ½å¥–å¡

* effecté…ç½®

  * typeä»…ä»…æ”¯æŒ`gold`(é‡‘å¸)æˆ–è€…`props`(é“å…·)

  * value

    * å¦‚æœæ˜¯é‡‘å¸åˆ™å¡«å…¥ä¸­å¥–åé‡‘å¸æ•°é‡
    * å¦‚æœæ˜¯é“å…·åˆ™å¡«å…¥é“å…·id

  probability

  * æ¦‚ç‡ä¸º0åˆ™100%æŠ½åˆ°ï¼Œæ¦‚ç‡ä¸º1åˆ™æŠ½åˆ°1/2,æ¦‚ç‡ä¸º3åˆ™æŠ½åˆ°1/3...åªæ¥å—æ•´æ•°



### å…³äºæ’ä»¶å¼€å‘

1. é¦–å…ˆåœ¨srcç›®å½•åˆ›å»ºtsæ–‡ä»¶ï¼ˆå¼ºçƒˆæ¨èåˆ›å»ºåœ¨`lib/app/plaugin`ç›®å½•ä¸‹ï¼‰
2. åœ¨tsæ–‡ä»¶åˆ›å»ºç›¸åº”çš„æ‰§è¡Œå‡½æ•°å¹¶å°†å®ƒæš´éœ²å‡ºå»ï¼Œå‡½æ•°è¿”å›å€¼ä¸º`Sendable`
3. åœ¨`lib/app/plauginindex.ts`ä¸‹çš„`runplugin`æ–¹æ³•ä¸‹ä½¿ç”¨`pluginrule`è¿›è¡Œæ³¨å†Œ

> å…·ä½“åœ¨æ’ä»¶ç›®å½•é‡Œé¢æœ‰ä¸ªä¾‹å­æ’ä»¶ï¼Œå¯ä¾›å¤§å®¶å­¦ä¹ 

### å…³äºè‡ªå®šä¹‰é“å…·å¼€å‘



1. åœ¨é…ç½®ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªé“å…· 

   	*  typeå€¼ä¸º`plugin`

   	*  effectå€¼ä¸ºä»»æ„`æ•´æ•°`

2. åœ¨tsæ–‡ä»¶åˆ›å»ºç›¸åº”çš„æ‰§è¡Œå‡½æ•°å¹¶å°†å®ƒæš´éœ²å‡ºå»ï¼Œä¼ å…¥å‚æ•°ä¸ºä¸º`PrivateMessageEvent | GroupMessageEvent`
3. åœ¨`lib/app/plauginindex.ts`ä¸‹çš„`runplugin`æ–¹æ³•ä¸‹ä½¿ç”¨`pluginprop`è¿›è¡Œæ³¨å†Œ
   * æ³¨æ„è¦ä¸effectå¯¹åº”

> å…·ä½“åœ¨æ’ä»¶ç›®å½•é‡Œé¢æœ‰ä¸ªä¾‹å­é“å…·ï¼Œå¯ä¾›å¤§å®¶å­¦ä¹ 

### å¸®åŠ©&åé¦ˆ

QQç¾¤ï¼š877894787
